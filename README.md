# DJふっきん

![IMAGE ALT TEXT HERE](DJ-hukkin.png)


## 製品概要

車内で流す音楽を、乗員全員の好みに合わせて選曲・再生してくれる"社内専属DJ"のようなサービスです。

### 背景(製品開発のきっかけ、課題等）

最近運転免許を取得し、友人と車で旅行する機会が増えました。
その際、車内で音楽を流すことが多くなったのですが、以下のような課題に直面しました。

* 一般的な車では、スピーカーに接続できる音楽再生端末が1台のみ。
* 乗員全員の好みの曲を流すために、端末を回し合ったり、希望の曲を聞いて回るのが手間。

この「誰がどの曲を流すか」を代わりに担ってくれるサービスがあれば、もっとドライブを楽しめるはず。そう考えてこのプロジェクトを立ち上げました。

### 製品説明（具体的な製品の説明）

本サービスは、**ホスト端末(車に接続されたスマートフォン)** にインストールされたSpotifyアカウントを通じて、**クライアント端末(他の乗員のスマートフォン)** から楽曲をリクエストし、音楽のキューを形成・再生できるWebアプリケーションです。

### 主な機能

* リクエスト機能
  
　　クライアント端末から、ホスト端末のSpotifyへ楽曲をリクエスト。

* 音声リクエスト対応
  
　　運転中のドライバーがスマホを操作できないため、音声認識により楽曲リクエストを実現。

* 雰囲気に応じた音量調節
  
　　車内の会話の活発さを解析し、Spotify音量を自動調節

### 特長
#### 特長1：ドライバー向け音声リクエスト機能
手を使わずに楽曲をリクエストできる音声認識機能を搭載。運転中でも安全かつ快適に操作可能。

#### 特長2：車内の雰囲気に応じた音量調整
会話の頻度を自然言語処理・形態素解析で解析し、乗員のテンションを推定。
雰囲気に合わせて音量を自動調節。

#### 特長3：安心のセキュリティ設計
Spotifyアカウントを扱うため、JWTと秘密鍵認証を用いた堅牢なバックエンドを構築。

#### 特長4：QRコードログインでUX向上
QRコードによるアカウント認証で、ログインの手間を最小限に。

### 解決出来る課題

* 乗員全員が好きな音楽を手軽に再生できる。
* 音楽を選ぶためのコミュニケーションコストを削減。
* ツアーバスやレンタカー利用時にも応用可能で、世代間の音楽の好みの違いの解消や、運営側の選曲作業の軽減にも繋がる。

### 今後の展望

* アーティスト検索機能
* キューの並び替え/削除機能
* 曲調、テンポの自動調節機能(雰囲気に応じて)
* おすすめ楽曲の自動追加機能
* 会話のポジティブ・ネガティブ分析に基づく、長調/単調の楽曲選定機能

### 注力したポイント

* 音声認識ライブラリを活用し、特定のワード(今回の場合「ふっきん」)の後に発された言葉を曲名と認識しリクエストを実行
  
* 音声認識をフロントエンドで完結させ、通信負荷を軽減。
  
* Spotifyから現在再生中の曲とキューを取得し、アーティスト名や画像も表示。

* 曲の切り替えやキュー追加時に必要最小限の通信で画面を更新。
  
* フロントエンドはNetlifyで静的ホスティング（※予算の都合上，現在バックエンド未デプロイのため利用不可）
(https://dj-hukkin.netlify.app/)

## 開発技術
### 活用した技術
#### API・データ

* Spotify API
* Google Speech Recognition

#### フレームワーク・ライブラリ・モジュール

フロントエンド
* React.js
* Speach Recognition
* React-Cookie
* Material UI
* Netlify

バックエンド
* FastAPI
* MySQL

#### デバイス

* iOS
* Android

上記以外の端末でもブラウザ対応済みで問題なく利用可能です。
